#:import hex kivy.utils.get_color_from_hex
#:import Factory kivy.factory.Factory
<MenuScreen>:
    name: 'menu'
    Image:
        source: 'assets/images/menu_background.png'
        allow_stretch: True
        keep_ratio: False
        size: self.texture_size
        repeat: True
    BoxLayout:
        orientation: 'vertical'
        MDToolbar:
            id: menu_toolbar
            # left_action_items: [['account-circle', lambda x: root.on_profile()]]
            right_action_items: [['logout', lambda x: root.on_exit()]]
        BoxLayout:
            orientation: 'vertical'
            size_hint: 1, .8
            padding: dp(20)
            spacing: dp(15)
            Image:
                source: "assets/images/Choose_your_Operation.png"
                size_hint: 1, None
                height: self.texture_size[1]
            BoxLayout:
                orientation: 'vertical'
                spacing: dp(10)
                BoxLayout:
                    spacing: dp(10)
                    Button:
                        background_normal: ''
                        background_color: 244/255, 67/255, 54/255
                        on_release: root.on_addition(); root.manager.current = 'difficulty'
                        Image:
                            source: 'assets/images/addition.png'
                            center_x: self.parent.center_x
                            center_y: self.parent.center_y
                    Button:
                        background_normal: ''
                        background_color: 33/255, 150/255, 243/255
                        on_release: root.on_subtraction(); root.manager.current = 'difficulty'
                        Image:
                            source: 'assets/images/subtraction.png'
                            center_x: self.parent.center_x
                            center_y: self.parent.center_y
                    Button:
                        background_normal: ''
                        background_color: 0, 86/255, 1
                        on_release: root.on_multiplication(); root.manager.current = 'difficulty'
                        Image:
                            source: 'assets/images/multiplication.png'
                            center_x: self.parent.center_x
                            center_y: self.parent.center_y
                    Button:
                        background_normal: ''
                        background_color: 255/255, 103/255, 43/255
                        on_release: root.on_division(); root.manager.current = 'difficulty'
                        Image:
                            source: 'assets/images/division.png'
                            center_x: self.parent.center_x
                            center_y: self.parent.center_y
                Button:
                    size_hint_y: .35
                    background_normal: '' # 255, 192, 32, 1
                    background_color: 255/255, 192/255, 32/255
                    on_release: root.manager.current = 'profile'
                    Image: # w760 h90
                        source: 'assets/images/profile.png'
                        size: 70, 70
                        center_x: self.parent.center_x
                        center_y: self.parent.center_y
        
<DifficultyScreen>:
    name: 'difficulty'
    Image:
        source: 'assets/images/difficulty_screen.png'
        allow_stretch: True
        keep_ratio: False
        size: self.texture_size
    MDCard:
        orientation: 'vertical'
        size_hint: None, None
        width: root.width - 100
        height: root.height - 40
        pos_hint: {'center_x': 0.5, 'center_y': 0.5}
        elevation: dp(10)
        padding: dp(10)
        spacing: dp(15)
        RelativeLayout:
            BoxLayout:
                orientation: 'vertical'
                spacing: dp(15)            
                Image:
                    id: op_label
                Image:
                    source: "assets/images/choose_your_difficulty_text.png"
            MDIconButton:
                icon: 'information-outline'
                user_font_size: dp(32)
                pos_hint: {'right': 1, 'top': 1}
                theme_text_color: "Custom"
                text_color: app.theme_cls.primary_color
                on_release: Factory.MyPopup().open()
        MDRaisedButton:
            id: lvl1_btn
            text: "LEVEL 1"
            font_size: dp(40)
            width: root.width*0.55
            pos_hint: {'center_x': .5}
            on_release: root.on_easy()
        MDRaisedButton:
            id: lvl2_btn
            text: 'LEVEL 2'
            md_bg_color: 230/255, 178/255, 15/255, 1
            font_size: dp(40)
            width: root.width*0.55
            pos_hint: {'center_x': .5}
            on_release: root.on_medium()
        MDRaisedButton:
            id: lvl3_btn
            text: 'LEVEL 3'
            md_bg_color: 237/255, 41/255, 57/255, 1
            font_size: dp(40)
            width: root.width*0.55
            pos_hint: {'center_x': .5}
            on_release: root.on_hard()
        RelativeLayout:
            size_hint: 1, 0.5
            MDSpinner:
                id: difficulty_spinner
                active: False
                line_width: dp(2.5)
                size_hint: .05, .05
                pos_hint: {'center_x': .5, 'center_y': .5}
            MDIconButton:
                icon: 'backspace'
                theme_text_color: 'Custom'
                text_color: [1, 0, 0, 1]
                pos_hint: {'right': 1}
                height: dp(5)
                on_release: root.manager.current = 'menu'
        
<MyPopup@Popup>:
    auto_dismiss: False
    size_hint: .6, .6
    title: 'Information'
    BoxLayout:
        orientation: 'vertical'
        padding: dp(5)
        spacing: dp(10) 
        Label:
            text: "Choose the level of your choice!\nFor beginners we recommend Level 1"
            size_hint_y: None
            height: self.texture_size[1]
        Image:
            source: 'assets/images/popup_sc.png'
        Button:
            text: 'Close'
            background_normal: ''
            background_color: 1, 0, 0
            size_hint: 1, .5
            pos_hint: {'center_x': .5}
            on_release: root.dismiss()

<ProfileScreen>:
    name: 'profile'
    BoxLayout:
        orientation: 'vertical'
        MDToolbar:
            id: profile_toolbar
            title: 'Your Profile'
            pos_hint: {'top': 1}
            left_action_items: [['arrow-left', lambda x: root.on_exit()]]
        BoxLayout:
            padding: dp(15)
            MDCard:
                elevation: 10
                BoxLayout:
                    Image:
                        source: 'assets/images/account.png'
                    BoxLayout:
                        padding: dp(25)
                        orientation: 'vertical'
                        MDLabel:
                            text: 'NAME:'
                            font_size: dp(12)
                            size_hint: 1, None
                            height: self.texture_size[1]
                        MDLabel:
                            id: name_label
                            font_size: dp(26)
                            size_hint: 1, None
                            height: self.texture_size[1]
                        Widget:
                        MDLabel:
                            text: 'AGE:'
                            font_size: dp(12)
                            size_hint: 1, None
                            height: self.texture_size[1]
                        MDLabel:
                            id: age_label
                            font_size: dp(26)
                            size_hint: 1, None
                            height: self.texture_size[1]
                        Widget:
                        MDLabel:
                            text: 'PARENT:'
                            font_size: dp(12)
                            size_hint: 1, None
                            height: self.texture_size[1]
                        MDLabel:
                            id: parent_label
                            font_size: dp(26)
                            size_hint: 1, None
                            height: self.texture_size[1]
                        Widget: