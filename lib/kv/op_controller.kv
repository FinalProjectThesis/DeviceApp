<OperationScreen>:
    name: 'operation'
    # Image:
    #     source: 'assets/images/question_screen_background.png'
    #     allow_stretch: True
    #     keep_ratio: False
    #     size: self.texture_size
    #     repeat: True
    BoxLayout:
        padding: dp(15)
        orientation: 'vertical'
        RelativeLayout:
            size_hint: 1, .15
            MDIconButton:
                icon: 'backspace'
                theme_text_color: 'Custom'
                text_color: [1, 0, 0, 1]
                pos_hint: {'right': 1, 'top': 1}
                on_release: root.on_exit()
        MDBoxLayout:
            orientation: 'vertical'
            size_hint: 1, .35 
            MDLabel:
                id: qcount_label
                size_hint: 1, None
                font_size: dp(16)
                height: self.texture_size[1]
                halign: 'center'
            MDLabel:
                id: question_label
                size_hint: 1, .95
                font_size: dp(62)
                halign: 'center'
        BoxLayout:
            size_hint: 1, .6
            spacing: dp(65)
            padding: dp(20)
            MDCard:
                orientation: 'vertical'
                md_bg_color: 244/255, 67/255, 54/255, 1
                elevation: 20
                spacing: dp(10)
                padding: dp(15)
                size_hint: .25, 1
                MDLabel:
                    text: 'Hundreds'
                    bold: True
                    size_hint: 1, None
                    height: self.texture_size[1]
                    halign: 'center'
                    pos_hint: {'top': 1}
                AsyncImage:
                    id: hundreds_input
                # MDLabel:
                #     id: hundreds_input
                #     halign: 'center'
                #     pos_hint: {'center_y': .5}
                #     font_size: dp(85)
            MDCard:
                orientation: 'vertical'
                md_bg_color: 193/255, 244/255, 54/255, 1
                elevation: 20
                spacing: dp(10)
                padding: dp(15)
                size_hint: .25, 1
                MDLabel:
                    text: 'Tens'
                    bold: True
                    size_hint: 1, None
                    height: self.texture_size[1]
                    halign: 'center'
                    pos_hint: {'top': 1}
                AsyncImage:
                    id: tens_input
                # MDLabel:
                #     id: tens_input
                #     halign: 'center'
                #     pos_hint: {'center_y': .5}
                #     font_size: dp(85)
            MDCard:
                orientation: 'vertical'
                md_bg_color: 54/255, 117/255, 244/255, 1
                elevation: 20
                spacing: dp(10)
                padding: dp(15)
                size_hint: .25, 1
                background_color: 237/255, 41/255, 57/255
                MDLabel:
                    text: 'Ones'
                    bold: True
                    size_hint: 1, None
                    height: self.texture_size[1]
                    halign: 'center'
                    pos_hint: {'top': 1}
                AsyncImage:
                    id: ones_input
                # MDLabel:
                #     id: ones_input
                #     halign: 'center'
                #     pos_hint: {'center_y': .5}
                #     font_size: dp(85)
        Button:
            text: 'SUBMIT'
            font_size: dp(26)
            background_normal: ''
            background_color: 0, 128/255, 128/255
            size_hint: 500/root.width, 60/root.height
            pos_hint: {'center_x': .5}
            on_release: root.validate_ans()

<ResultScreen>:
    name: 'result'
    Image:
        source: 'assets/images/result_bg.png'
        pos_hint: {'center_x':.5, 'center_y': .5}
        size_hint: 1, 1
        anim_delay: 1/30
        repeat: True
    BoxLayout:
        padding: dp(20)
        orientation: 'vertical'
        MDLabel:
            id: result_label
            halign: 'center'
            font_size: dp(36)
        MDCard:
            orientation: 'vertical'
            spacing: dp(10)
            padding: dp(10)
            elevation: 10
            size_hint: None, .5
            width: root.width - 260
            pos_hint: {'center_x':.5, 'center_y': .5}
            MDLabel:
                text: 'Not satisfied with your Score?\nTry Again!'
                font_size: dp(22)
                halign: 'center'
                size_hint: 1, None
                height: self.texture_size[1]
            MDLabel:
                id: upload_status
                text: ""
                font_size: dp(22)
                size_hint: 1, None
                height: self.texture_size[1]
            BoxLayout:
                spacing: dp(10)
                Button:
                    id: submit_answers_button
                    text: 'Submit Answers'
                    background_normal: ''
                    font_size: dp(24)
                    background_color: 0, 128/255, 128/255
                    on_release: root.on_submit()
                Button:
                    id: try_again_button
                    text: 'Try Again!'
                    font_size: dp(24)
                    background_normal: ''
                    background_color: 237/255, 41/255, 57/255
                    on_release: root.on_again()

<CorrectScreen>:
    name: 'correct'
    MDCard:
        id: md_card
        orientation: 'vertical'
        size_hint: None, None
        width: root.width - 40
        height: root.height - 40
        pos_hint: {'center_x': .5, 'center_y': .5}
        md_bg_color: 167/255, 244/255, 50/255, 1
        elevation: 10
        padding: dp(25)
        spacing: dp(25)
        MDLabel:
            id: correct_label
            text: 'Correct!'
            halign: 'center'
            theme_text_color: 'Custom'
            text_color: 0, 0, 0
            font_size: dp(80)
            Image:
                id: gif
                source: 'assets/anims/congrats.gif'
                center: root.center
                size_hint: None, None
                width: md_card.width
                height: md_card.height
                allow_stretch: True
                anim_delay: -1
                repeat: True
        Button:
            text: 'Next Question'
            font_size: dp(56)
            background_normal: ''
            background_color: 244/255, 67/255, 54/255
            size_hint: 560/root.width, 140/root.height
            pos_hint: {'center_x': .5}
            on_release: root.manager.current = 'operation'; gif.anim_delay = -1

<WrongScreen>:
    name: 'wrong'
    MDCard:
        id: md_card
        orientation: 'vertical'
        size_hint: None, None
        width: root.width - 40
        height: root.height - 40
        pos_hint: {'center_x': .5, 'center_y': .5}
        md_bg_color: 237/255, 41/255, 57/255, 1
        elevation: 10
        padding: dp(15)
        spacing: dp(15)
        MDLabel:
            id: wrong_label
            halign: 'center'
            pos_hint: {'top': 1}
            size_hint: 1, None
            height: self.texture_size[1]
            font_size: dp(24)
            markup: True
        MDCard:
            radius: [dp(15), dp(15), dp(15), dp(15)]
            elevation: 10
            padding: dp(5)
            orientation: 'vertical'
            BoxLayout:
                GridLayout:
                    spacing: dp(3)
                    id: first_grid
                    rows: 3
                    size_hint: .5, 1                    
                MDLabel:
                    id: op_label
                    font_size: dp(36)
                    size_hint: None, None
                    width: self.texture_size[1]
                    height: self.texture_size[1]
                    halign: 'center'
                    pos_hint: {'center_y': .5}
                GridLayout:
                    spacing: dp(3)
                    id: second_grid
                    rows: 3
                    size_hint: .5, 1                    
                MDLabel:
                    text: '='
                    font_size: dp(36)
                    size_hint: None, None
                    width: self.texture_size[1]
                    height: self.texture_size[1]
                    halign: 'center'
                    pos_hint: {'center_y': .5}
                GridLayout:
                    spacing: dp(3)
                    id: answer_grid
                    rows: 3
                    size_hint: .5, 1
            BoxLayout:
                size_hint: 1, .1
                MDLabel:
                    id: val1_label
                    size_hint: .5, 1
                    halign: 'center'
                Widget:
                    size_hint: None, 1
                    width: dp(43)
                MDLabel:
                    id: val2_label
                    size_hint: .5, 1
                    halign: 'center'
                Widget:
                    size_hint: None, 1
                    width: dp(43)
                MDLabel:
                    id: answer_label
                    size_hint: .5, 1
                    halign: 'center'
                    markup: True
        Button:
            id: next_btn
            text: 'Next Question'
            font_size: dp(32)
            background_normal: ''
            background_color: 249/255, 129/255, 42/255
            size_hint: 520/root.width, 90/root.height
            pos_hint: {'center_x': .5}
            disabled: True
            on_release: root.manager.current = 'operation'